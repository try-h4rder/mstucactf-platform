# Автоматизация решения CTF-задач

**Цель раздела** — научиться писать скрипты для автоматизации решения CTF-задач.

**Рекомендация автора** — использовать в качестве инструмента автоматизации язык программирования *Python*.

---

При выполнении CTF-задач возникают случаи, когда решение

- требует **многократного повторения** одних и тех же действий,
- состоит из **большого количества шагов**,
- требует **сложных вычислений**.

В таких случаях наиболее эффективным решением (а иногда и единственно верным) является написание программы, которая воспроизведёт решение задачи вместо человека.

Скрипты можно писать на любом языке программирования, даже на bash. Но лучше использовать универсальные языки, такие как *Python*.

## Пример автоматизации

Пример задачи из мини-игры OverTheWire Natas Level 19:

!!! quote "Описание задания"

	_Чтобы получить пароль от следующего уровня, нужно успешно залогиниться на сайте под именем администратора этого сайта. Пароль от аккаунта администратора конечно же неизвестен, но имя пользователя скорее всего “admin”._

При тестировании сайта становится известно, что после ввода корректных реквизитов от своего аккаунта, пользователю выдаётся _закодированная метка_ с числом и именем пользователя, например, `123-AlanWalker`. Логично предположить, что метка администратора будет чем-то похожим на `123-admin`, но число неизвестно и придётся перебирать все числа в надежде подобрать нужное, чтобы подделать метку администратора и обмануть сайт.

При ручных попытках 1) изменения числа в метке, 2) кодирования метки, 3) вставки её в браузер и 4) заходе на сайт, у игрока ожидается:

- на 10-20 попытках — потеря внимания и концентрации,
- на 20-50 попытках — утрата надежды в успех,
- на 50-100 попытках — помутнение рассудка!

А вот представлен скрипт (на псевдокоде), который решает данную задачу без участия человека и всего за несколько секунд:

```Python
# запоминаем ссылку
ссылка ← "http://natas19.natas.labs.overthewire.org/index.php"

# запускаем цикл для перебора чисел от 1 до 999
for перебираемое_число in [1 .. 999]:
	# формируем метку
	метка ← функция_кодирование( "{перебираемое_число}-admin" )
	# пытаемся войти на сайт при помощи метки
	ответ ← запрос( ссылка, метка )
	# по ответу на запрос определяем успешность попытки
	if "Вы вошли под обычным пользователем." not in ответ:
		# печатаем ответ сайта при успешной попытке
		print( ответ )
		# досрочно завершаем цикл
		break
```

Куда лучше потратить 5 минут на написание скрипта и решить задачу, чем 50 минут пытаться решить задачу вручную и остаться без результата, энергии и желания продолжать.

## Задание №1

Установите на свою ВМ с Kali Linux один из инструментов ниже для упрощения написания программ на Python:

- Текстовый редактор **Sublime Text**
- Cреда разработки **PyCharm**
- Редактор кода **Visual Studio Code** ← _рекомендация автора_

Инструкции по установке выбранного инструмента необходимо найти самостоятельно.

## Задание №2

Выполните следующие действия:

1. Зарегистрируйтесь на образовательной платформе stepik для прохождения [курса программирования на Python](https://stepik.org/67) от [Тимофея Бондарева](https://stepik.org/users/779) и [Павла Федотова](https://stepik.org/users/171610).
2. Пройдите материалы курса по порядку не менее чем на 80%.
3. Решая задачи курса по порядку соберите не менее чем 80 баллов.

## Задание №3

Выполните следующие действия:

1. Зарегистрируйтесь на образовательной платформе stepik для прохождения [курса Adaptive Python](https://stepik.org/568).
2. Решите не менее 10 заданий по порядку.

## Полезные материалы

Книга “**Язык программирования С**” Б. Керниган, Д. Ритчи — толковая книжка, в которой разложено всё по полочками, после этой книги довольно просто освоить базовые концепции любого языка программирования.